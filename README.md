# Syrve Validator

**Syrve Validator** — утилита для сбора, валидации и анализа данных доставок из API Syrve Cloud.

## Возможности

* Получение списка организаций по API-ключу.
* Сбор данных о доставках за указанный промежуток времени, разбивая запросы на 1-дневные чанки (обход ограничений API).
* Валидация украинских номеров телефонов по паттерну.
* Подсчёт ключевых метрик:

  * Общее количество доставок
  * Количество заказов без данных клиента
  * Количество заказов без телефона
  * Количество заказов с нулевой суммой
  * Список и количество некорректных номеров
  * Список и количество дубликатов номеров
* Формирование консольного отчёта с выводом метрик.
* Интерактивный выбор доставки для просмотра подробных деталей (переведённые поля, адрес, позиции, платежи, скидки).

## Требования

* Python 3.7+
* Библиотеки:

  * `requests`



````

## Использование

```bash
python script.py \
  --login YOUR_API_LOGIN \
  --from "2025-05-10 00:00:00.000" \
  --to   "2025-05-13 23:59:59.999"
````

* `--login`: ваш API Login ключ.
* `--from`: дата и время начала выборки в формате `YYYY-MM-DD HH:MM:SS.SSS`.
* `--to`: дата и время конца выборки в формате `YYYY-MM-DD HH:MM:SS.SSS`.
* `--token-url`: (опционально) URL для получения токена (по умолчанию `https://api-eu.syrve.live/api/1/access_token`).
* `--orgs-url`: (опционально) URL для получения списка организаций.
* `--deliv-url`: (опционально) URL для получения доставок.

### Пошаговый процесс

1. Скрипт запрашивает список организаций и предлагает выбрать одну или несколько.
2. Для каждой выбранной организации собирает данные доставок по дням.
3. Рассчитывает сводные метрики и выводит отчёт.
4. Предлагает выбрать конкретную доставку для просмотра подробностей.

## Пример

```text
$ python script.py --login 0b048eee108f45a28f492f6ebcf2abab ...

Организации:
 1. Точка A (id...)
 2. Точка B (id...)
Выберите через запятую: 1

=== Отчет 2025-05-10... ===
Всего: 123, без клиента: 18, без телефона: 0
Нулевых сумм: 6, уникальных тел: 90
Неверных номеров: 7
  ! +380000000000
  ! +38932257011
Дубли (>1): 4
  * +380671112233: 13

Детали №: 10
=== Детали ===
Номер: 17
Телефон: +380972372627
Статус: Closed
Создан: 2025-05-10 17:33:15.856
... и т.д.
```

## Лицензия

MIT © Ваше Имя или Компания
